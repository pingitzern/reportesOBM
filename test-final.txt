
> reportesobm@1.0.0 test
> node --experimental-vm-modules ./node_modules/jest/bin/jest.js

node.exe : (node:11960) ExperimentalWarning: 
VM Modules is an experimental feature and 
might change at any time
En línea: 1 Carácter: 1
+ & "C:\Program Files\nodejs/node.exe" 
"C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ( 
   (node:11960) Ex...nge at any time:String)  
   [], RemoteException
    + FullyQualifiedErrorId : NativeCommandEr 
   ror
 
(Use `node --trace-warnings ...` to show 
where the warning was created)
(node:21592) ExperimentalWarning: VM Modules 
is an experimental feature and might change 
at any time
(Use `node --trace-warnings ...` to show 
where the warning was created)
PASS __tests__/clasp-config.test.js
(node:29040) ExperimentalWarning: VM Modules 
is an experimental feature and might change 
at any time
(Use `node --trace-warnings ...` to show 
where the warning was created)
(node:2472) ExperimentalWarning: VM Modules 
is an experimental feature and might change 
at any time
(Use `node --trace-warnings ...` to show 
where the warning was created)
PASS __tests__/husky.test.js
(node:19136) ExperimentalWarning: VM Modules 
is an experimental feature and might change 
at any time
(Use `node --trace-warnings ...` to show 
where the warning was created)
PASS frontend/js/modules/remitos-gestion/remit
os-gestion.test.js
(node:21804) ExperimentalWarning: VM Modules 
is an experimental feature and might change 
at any time
(Use `node --trace-warnings ...` to show 
where the warning was created)
(node:14332) ExperimentalWarning: VM Modules 
is an experimental feature and might change 
at any time
(Use `node --trace-warnings ...` to show 
where the warning was created)
PASS 
frontend/js/__tests__/remitos-gestion.test.js
(node:15960) ExperimentalWarning: VM Modules 
is an experimental feature and might change 
at any time
(Use `node --trace-warnings ...` to show 
where the warning was created)
FAIL frontend/js/__tests__/forms.test.js
  ÔùÅ selecci├│n de clientes ÔÇ║ pobla el 
selector y actualiza los datos del cliente al 
cambiar

    expect(received).toBe(expected) // 
Object.is equality

    Expected: 3
    Received: 1

    [0m [90m 164 |[39m
     [90m 165 |[39m         [36mconst[39m 
select [33m=[39m document[33m.[39mgetEleme
ntById([32m'cliente'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 166 |[39m      
   expect(select[33m.[39moptions[33m.[39ml
ength)[33m.[39mtoBe([35m1[39m [33m+[39m 
clientes[33m.[39mlength)[33m;[39m
     [90m     |[39m                         
              [31m[1m^[22m[39m
     [90m 167 |[39m
     [90m 168 |[39m         
select[33m.[39mvalue [33m=[39m 
[32m'2'[39m[33m;[39m
     [90m 169 |[39m         
select[33m.[39mdispatchEvent([36mnew[39m 
[33mEvent[39m([32m'change'[39m))[33m;[39m
[0m

      at Object.<anonymous> 
(frontend/js/__tests__/forms.test.js:166:39)

  ÔùÅ selecci├│n de clientes ÔÇ║ maneja 
clientes con nombres duplicados sin 
identificadores visibles

    expect(received).toBe(expected) // 
Object.is equality

    Expected: 3
    Received: 1

    [0m [90m 196 |[39m
     [90m 197 |[39m         [36mconst[39m 
select [33m=[39m document[33m.[39mgetEleme
ntById([32m'cliente'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 198 |[39m      
   expect(select[33m.[39moptions[33m.[39ml
ength)[33m.[39mtoBe([35m1[39m [33m+[39m 
clientes[33m.[39mlength)[33m;[39m
     [90m     |[39m                         
              [31m[1m^[22m[39m
     [90m 199 |[39m
     [90m 200 |[39m         [36mconst[39m 
firstOptionKey [33m=[39m select[33m.[39mop
tions[[35m1[39m][33m.[39mgetAttribute([32
m'data-cliente-key'[39m)[33m;[39m
     [90m 201 |[39m         [36mconst[39m 
secondOptionKey [33m=[39m select[33m.[39mo
ptions[[35m2[39m][33m.[39mgetAttribute([3
2m'data-cliente-key'[39m)[33m;[39m[0m

      at Object.<anonymous> 
(frontend/js/__tests__/forms.test.js:198:39)

  ÔùÅ selecci├│n de clientes ÔÇ║ resetForm 
limpia la selecci├│n y los campos de cliente

    expect(received).toBe(expected) // 
Object.is equality

    Expected: "Calle 1"
    Received: ""

    [0m [90m 244 |[39m         
select[33m.[39mdispatchEvent([36mnew[39m 
[33mEvent[39m([32m'change'[39m))[33m;[39m
     [90m 245 |[39m
    [31m[1m>[22m[39m[90m 246 |[39m      
   expect(document[33m.[39mgetElementById([
32m'direccion'[39m)[33m.[39mvalue)[33m.[3
9mtoBe([32m'Calle 1'[39m)[33m;[39m
     [90m     |[39m                         
                                   
[31m[1m^[22m[39m
     [90m 247 |[39m
     [90m 248 |[39m         
resetForm()[33m;[39m
     [90m 249 |[39m[0m

      at Object.<anonymous> 
(frontend/js/__tests__/forms.test.js:246:60)

Test Suites: 1 failed, 5 skipped, 4 passed, 5 
of 10 total
Tests:       3 failed, 41 skipped, 15 passed, 
59 total
Snapshots:   0 total
Time:        3.006 s, estimated 4 s
Ran all test suites.
