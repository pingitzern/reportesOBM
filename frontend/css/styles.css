@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    .user-menu-toggle {
        @apply flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-500 shadow-sm transition-colors transition-shadow duration-200 ease-out hover:text-slate-700 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2;
    }

    .user-menu {
        @apply absolute right-0 top-full z-30 mt-3 w-56 overflow-hidden rounded-2xl border border-slate-100 bg-white shadow-lg;
        max-width: min(18rem, calc(100vw - 1.5rem));
    }

    .user-menu__content {
        @apply flex flex-col gap-1 p-2;
    }

    .user-menu__item {
        @apply flex w-full items-center gap-3 rounded-xl px-3 py-2 text-sm font-medium text-slate-600 transition-colors duration-150 hover:bg-slate-100 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2;
    }

    .user-menu__item:disabled {
        cursor: not-allowed;
        opacity: 0.55;
    }

    .user-menu__logout {
        @apply text-red-600 hover:bg-red-50 hover:text-red-700 focus-visible:ring-red-500;
    }

    .form-card {
        @apply bg-white p-6 rounded-xl shadow-md space-y-4;
    }

    .status-pass {
        background-color: rgb(220 252 231);
        color: rgb(22 101 52);
        transition: background-color 0.2s ease, color 0.2s ease;
    }

    .status-fail {
        background-color: rgb(254 226 226);
        color: rgb(153 27 27);
        transition: background-color 0.2s ease, color 0.2s ease;
    }

    .status-na {
        background-color: rgb(229 231 235);
        color: rgb(55 65 81);
        transition: background-color 0.2s ease, color 0.2s ease;
    }

    .component-toggle {
        position: relative;
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        align-items: stretch;
        width: 100%;
        border-radius: 9999px;
        overflow: hidden;
        font-size: 0.875rem;
        font-weight: 500;
        color: rgb(75 85 99);
    }

    .component-toggle__track {
        position: absolute;
        inset: 0;
        border-radius: inherit;
        background-color: rgb(229 231 235);
        transition: background-color 0.2s ease;
        z-index: 1;
    }

    .component-toggle__thumb {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        width: 50%;
        border-radius: inherit;
        background-color: #ffffff;
        box-shadow: 0 10px 30px rgba(15, 23, 42, 0.12);
        transition: transform 0.25s ease;
        z-index: 2;
    }

    .component-toggle[data-state="cambiado"] .component-toggle__thumb {
        transform: translateX(0%);
    }

    .component-toggle[data-state="inspeccionado"] .component-toggle__thumb {
        transform: translateX(100%);
    }

    .component-toggle__input {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        clip-path: inset(50%);
        border: 0;
        white-space: nowrap;
    }

    .component-toggle__option {
        position: relative;
        z-index: 5;
        cursor: pointer;
        padding: 0.75rem 0.5rem;
        text-align: center;
        color: rgb(107 114 128);
        transition: color 0.2s ease, font-weight 0.2s ease;
        user-select: none;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .component-toggle__option:hover {
        color: rgb(55 65 81);
    }

    .component-toggle[data-state="cambiado"] .component-toggle__option--cambiado,
    .component-toggle[data-state="inspeccionado"] .component-toggle__option--inspeccionado {
        color: rgb(17 24 39);
        font-weight: 600;
    }

    .sanitizacion-options {
        --sanitizacion-border: rgb(209 213 219);
        --sanitizacion-background: rgb(249 250 251);
        --sanitizacion-active-bg: rgb(229 231 235);
        --sanitizacion-active-color: rgb(55 65 81);
        --sanitizacion-active-border: rgba(107, 114, 128, 0.35);
        --sanitizacion-active-shadow: rgba(55, 65, 81, 0.15);
        display: flex;
        width: 100%;
        border-radius: 9999px;
        border: 1px solid var(--sanitizacion-border);
        background-color: var(--sanitizacion-background);
        overflow: hidden;
        box-shadow: inset 0 1px 2px rgba(15, 23, 42, 0.05);
        transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
    }

    .sanitizacion-options[data-status="success"] {
        --sanitizacion-border: rgb(134 239 172);
        --sanitizacion-background: rgb(240 253 244);
        --sanitizacion-active-bg: rgb(220 252 231);
        --sanitizacion-active-color: rgb(22 101 52);
        --sanitizacion-active-border: rgba(34, 197, 94, 0.45);
        --sanitizacion-active-shadow: rgba(22, 101, 52, 0.25);
    }

    .sanitizacion-options[data-status="danger"] {
        --sanitizacion-border: rgb(252 165 165);
        --sanitizacion-background: rgb(254 242 242);
        --sanitizacion-active-bg: rgb(254 226 226);
        --sanitizacion-active-color: rgb(153 27 27);
        --sanitizacion-active-border: rgba(248, 113, 113, 0.45);
        --sanitizacion-active-shadow: rgba(153, 27, 27, 0.25);
    }

    .sanitizacion-options[data-status="neutral"] {
        --sanitizacion-border: rgb(209 213 219);
        --sanitizacion-background: rgb(249 250 251);
        --sanitizacion-active-bg: rgb(229 231 235);
        --sanitizacion-active-color: rgb(55 65 81);
        --sanitizacion-active-border: rgba(107, 114, 128, 0.35);
        --sanitizacion-active-shadow: rgba(55, 65, 81, 0.15);
    }

    .sanitizacion-option {
        position: relative;
        flex: 1 1 0%;
    }

    .sanitizacion-option input {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        clip-path: inset(50%);
        white-space: nowrap;
        border: 0;
    }

    .sanitizacion-option span {
        display: block;
        width: 100%;
        padding: 0.6rem 0.75rem;
        text-align: center;
        font-size: 0.875rem;
        font-weight: 500;
        color: rgb(75 85 99);
        border-left: 1px solid rgba(148, 163, 184, 0.25);
        transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
        user-select: none;
    }

    .sanitizacion-option:first-child span {
        border-left-color: transparent;
    }

    .sanitizacion-option input:not(:checked) + span:hover {
        background-color: rgba(255, 255, 255, 0.6);
        color: rgb(31 41 55);
    }

    .sanitizacion-option input:checked + span {
        color: var(--sanitizacion-active-color);
        background-color: var(--sanitizacion-active-bg);
        border-color: var(--sanitizacion-active-border);
        box-shadow: inset 0 0 0 1px var(--sanitizacion-active-border), 0 6px 18px -10px var(--sanitizacion-active-shadow);
    }
}
